{"version":3,"sources":["components/app-pagination/app-pagination.component.tsx","components/app-product-card/app-product-card.component.tsx","hooks/use-query.hook.ts","redux/products/products.selectors.ts","pages/collection-overview/collection-overview.page.tsx","HOCS/with-loader.hoc.tsx","assets/images/empty-products.svg","components/app-empty-products/app-empty-products.component.tsx"],"names":["AppPagination","page","count","classes","url","useRouteMatch","Pagination","shape","color","renderItem","item","PaginationItem","component","Link","to","AppProductCard","product","name","image","price","id","path","ProductDetailsRoute","getPath","className","Card","raised","CardActionArea","CardMedia","title","CardContent","CardActions","disableSpacing","IconButton","aria-label","useQuery","URLSearchParams","useLocation","search","selectProductsState","products","selectProducts","createSelector","selectProductsPages","pages","selectProductsLoading","isLoading","withLoader","setLoading","useSelector","dispatch","useDispatch","t","useTranslation","collection","params","query","Number","get","handleProductsFetch","useCallback","fetchProductsStart","pageSize","useEffect","isProductsExist","Boolean","length","map","root","onChange","Inner","displayName","props","useState","style","display","AppEmptyProducts","src","EmptyCart","alt"],"mappings":"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","file":"static/js/6.1d235541.chunk.js","sourcesContent":["import { PaginationItem } from '@material-ui/lab';\nimport React from 'react';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { Link, useRouteMatch } from 'react-router-dom';\n\ninterface IPaginationProps {\n  count: number;\n  page: number;\n  classes: Record<string, string>;\n  onChange: ({ page }: { page: number }) => void;\n}\n\nconst AppPagination = ({\n  page,\n  count,\n  classes,\n}: IPaginationProps): React.ReactElement => {\n  const { url } = useRouteMatch();\n\n  return (\n    <Pagination\n      shape=\"rounded\"\n      color=\"primary\"\n      classes={classes}\n      page={page}\n      count={count}\n      renderItem={(item) => (\n        <PaginationItem\n          component={Link}\n          to={`${url}?page=${item.page}`}\n          {...item}\n        />\n      )}\n    />\n  );\n};\n\nexport default AppPagination;\n","import React from 'react';\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  CardActions,\n  IconButton,\n  CardActionArea,\n} from '@material-ui/core';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ShareIcon from '@material-ui/icons/Share';\nimport { Link } from 'react-router-dom';\nimport { IProduct } from '../../redux/products/products.types';\nimport './app-product-card.styles.scss';\nimport { ProductDetailsRoute } from '../../routes/index';\n\ninterface ICardProps {\n  product: IProduct;\n}\n\nconst AppProductCard = ({ product }: ICardProps): React.ReactElement => {\n  const { name, image, price, id } = product;\n  const path = ProductDetailsRoute.getPath!(id);\n\n  return (\n    <Link to={path} className=\"app-product-card-wrapper\">\n      <Card raised className=\"app-product-card\">\n        <CardActionArea>\n          <CardMedia\n            className=\"app-product-card__media\"\n            image={image.url}\n            title={name}\n          />\n        </CardActionArea>\n\n        <CardContent className=\"app-product-card__content\">\n          <div className=\"app-product-card__info\">\n            <h4 className=\"app-product-card__title\">{name}</h4>\n            <span className=\"app-product-card__price\">{price}</span>\n          </div>\n        </CardContent>\n\n        <CardActions disableSpacing>\n          <IconButton aria-label=\"add to favorites\">\n            <FavoriteIcon />\n          </IconButton>\n          <IconButton aria-label=\"share\">\n            <ShareIcon />\n          </IconButton>\n        </CardActions>\n      </Card>\n    </Link>\n  );\n};\n\nexport default AppProductCard;\n","import { useLocation } from 'react-router-dom';\n\nfunction useQuery(): URLSearchParams {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport default useQuery;\n","import { createSelector, Selector } from 'reselect';\nimport { RootState } from '../root.reducer';\nimport { IProductsState, TProducts } from './products.types';\n\nconst selectProductsState = ({ products }: RootState): IProductsState =>\n  products;\n\nexport const selectProducts: Selector<RootState, TProducts> = createSelector(\n  [selectProductsState],\n  ({ products }) => products\n);\n\nexport const selectProductsPages: Selector<RootState, number> = createSelector(\n  [selectProductsState],\n  ({ pages }) => pages\n);\n\nexport const selectProductsLoading: Selector<\n  RootState,\n  boolean\n> = createSelector([selectProductsState], ({ isLoading }) => isLoading);\n","import React, { useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouteMatch } from 'react-router-dom';\nimport AppEmptyProducts from '../../components/app-empty-products/app-empty-products.component';\nimport AppPagination from '../../components/app-pagination/app-pagination.component';\nimport AppProductCard from '../../components/app-product-card/app-product-card.component';\nimport withLoader, { IWithLoaderProps } from '../../HOCS/with-loader.hoc';\nimport useQuery from '../../hooks/use-query.hook';\nimport { fetchProductsStart } from '../../redux/products/products.actions';\nimport {\n  selectProducts,\n  selectProductsLoading,\n  selectProductsPages,\n} from '../../redux/products/products.selectors';\nimport './collection-overview.styles.scss';\n\nconst CollectionOverviewPage = ({\n  setLoading,\n}: IWithLoaderProps): React.ReactElement => {\n  const products = useSelector(selectProducts);\n  const pages = useSelector(selectProductsPages);\n  const isLoading = useSelector(selectProductsLoading);\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const {\n    params: { collection },\n  } = useRouteMatch<{ collection: string }>();\n  const query = useQuery();\n  const page = Number(query.get('page')) || 1;\n\n  const handleProductsFetch = useCallback(\n    () =>\n      dispatch(\n        fetchProductsStart({\n          page,\n          collection,\n          pageSize: 9,\n        })\n      ),\n    [page, collection, dispatch]\n  );\n\n  useEffect(() => {\n    setLoading(isLoading);\n  }, [isLoading, setLoading]);\n\n  useEffect(() => {\n    handleProductsFetch();\n  }, [handleProductsFetch]);\n\n  const isProductsExist = Boolean(products.length);\n\n  return (\n    <div className=\"container products-container\">\n      <h1 className=\"main-title\">{t('page.products.title')}</h1>\n\n      <div className=\"products-overview\">\n        {products.map((product) => (\n          <AppProductCard key={product.id} product={product} />\n        ))}\n        {!isProductsExist && <AppEmptyProducts />}\n      </div>\n\n      {isProductsExist && (\n        <AppPagination\n          page={page}\n          count={pages}\n          classes={{ root: 'products-pagination' }}\n          onChange={handleProductsFetch}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default withLoader(CollectionOverviewPage);\n","import React, { useState } from 'react';\nimport Spinner from '../components/spinner/spinner.component';\n\nexport interface IWithLoaderProps {\n  isLoading: boolean;\n  setLoading: (isLoading: boolean) => void;\n}\n\nconst withLoader = <P extends IWithLoaderProps>(\n  Inner: React.ComponentType<P>\n): React.FC<P & IWithLoaderProps> => {\n  // eslint-disable-next-line no-param-reassign\n  Inner.displayName = `withLoader(${Inner.displayName || Inner.name})`;\n\n  return (props) => {\n    const [isLoading, setLoading] = useState<boolean>(false);\n\n    return (\n      <>\n        {isLoading && <Spinner />}\n        <div\n          className=\"flex-container\"\n          style={isLoading ? { display: 'none' } : {}}\n        >\n          <Inner {...props} isLoading={isLoading} setLoading={setLoading} />\n        </div>\n      </>\n    );\n  };\n};\n\nexport default withLoader;\n","export default __webpack_public_path__ + \"static/media/empty-products.4f81bf44.svg\";","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport EmptyCart from '../../assets/images/empty-products.svg';\nimport './app-empty-products.styles.scss';\n\nconst AppEmptyProducts: React.FC = () => {\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"app-empty-products\">\n      <img\n        src={EmptyCart}\n        alt=\"empty products\"\n        className=\"app-empty-products__image\"\n      />\n      <p className=\"app-empty-products__text\">\n        {t('page.products.no_products')}\n      </p>\n    </div>\n  );\n};\n\nexport default AppEmptyProducts;\n"],"sourceRoot":""}